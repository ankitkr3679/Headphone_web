<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registration Form Validation</title>

    <!-- Bootstrap & FontAwesome Links -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
</head>
<body>

<section class="wrapper">
    <div class="container py-5 mt-5">
        <div class="col-sm-8 offset-sm-2 col-lg-8 offset-lg-2 col-xl-6 offset-xl-3 text-center">
            <form class="rounded bg-white shadow p-5" id="registrationForm">
                <h3 class="text-dark fw-bold fs-4 mb-2">Create an Account</h3>
                <div class="fw-normal text-muted mb-4">
                    Already have an account? <a href="index.html" class="text-primary fw-bold text-decoration-none">Sign in here</a>
                </div>

                <div class="form-floating mb-3">
                    <input type="text" class="form-control" id="floatingFirstName" placeholder="First Name" required>
                    <label for="floatingFirstName">First Name</label>
                    <div class="invalid-feedback">Please enter only alphabets.</div>
                </div>

                <div class="form-floating mb-3">
                    <input type="text" class="form-control" id="floatingLastName" placeholder="Last Name" required>
                    <label for="floatingLastName">Last Name</label>
                    <div class="invalid-feedback">Please enter only alphabets.</div>
                </div>

                <div class="form-floating mb-3">
                    <input type="email" class="form-control" id="floatingInput" placeholder="name@example.com" required>
                    <label for="floatingInput">Email address</label>
                    <div class="invalid-feedback">Please enter a valid email address.</div>
                </div>

                <!-- Password Field with Show/Hide -->
                <div class="form-floating position-relative mb-3">
                    <input type="password" class="form-control" id="password" placeholder="Password" required minlength="8">
                    <label for="password">Password</label>

                    <!-- Eye Icon -->
                    <i class="fa-solid fa-eye-slash position-absolute top-50 end-0 translate-middle-y me-3"
                       id="togglePassword" style="cursor: pointer;"></i>

                    <div class=" small mt-1" id="passwordError">
                        Password must contain at least 8 characters, including uppercase, lowercase, number, and symbol.
                    </div>
                </div>

                <!-- Confirm Password -->
                <div class="form-floating mb-3">
                    <input type="password" class="form-control" id="floatingConfirmPassword" placeholder="Confirm Password" required>
                    <label for="floatingConfirmPassword">Confirm Password</label>
                    <div class="invalid-feedback" id="confirmPasswordError">Passwords do not match.</div>
                </div>

                <!-- Terms and Conditions -->
                <div class="form-check d-flex align-items-center mb-3">
                    <input class="form-check-input" type="checkbox" id="gridCheck" required>
                    <label class="form-check-label ms-2" for="gridCheck">
                        I Agree <a href="#">Terms and conditions</a>
                    </label>
                    <div class="invalid-feedback">You must agree to the terms and conditions.</div>
                </div>

                <button type="submit" class="btn btn-primary submit_btn w-100 my-4" disabled id="submitButton">Continue</button>
            </form>
        </div>
    </div>
</section>

<!-- JavaScript for Validation & Password Show/Hide -->
<script>
    document.addEventListener("DOMContentLoaded", function () {
        const passwordField = document.getElementById("password");
        const confirmPasswordField = document.getElementById("floatingConfirmPassword");
        const togglePassword = document.getElementById("togglePassword");
        const passwordError = document.getElementById("passwordError");
        const confirmPasswordError = document.getElementById("confirmPasswordError");
        const submitButton = document.getElementById("submitButton");

        // ✅ Show/Hide Password
        togglePassword.addEventListener("click", function () {
            if (passwordField.type === "password") {
                passwordField.type = "text";
                togglePassword.classList.remove("fa-eye-slash");
                togglePassword.classList.add("fa-eye");
            } else {
                passwordField.type = "password";
                togglePassword.classList.remove("fa-eye");
                togglePassword.classList.add("fa-eye-slash");
            }
        });

        // ✅ Strong Password Validation
        passwordField.addEventListener("input", function () {
            const password = passwordField.value;
            const strongPasswordRegex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/;

            if (!strongPasswordRegex.test(password)) {
                passwordError.style.color = "red";
                passwordError.textContent = "Weak password! Use uppercase, lowercase, number & symbol.";
                passwordField.setCustomValidity("Weak password!");
                submitButton.disabled = true;
            } else {
                passwordError.style.color = "green";
                passwordError.textContent = "Strong password!";
                passwordField.setCustomValidity("");
                validateConfirmPassword(); // Check confirm password
            }
        });

        // ✅ Confirm Password Match
        confirmPasswordField.addEventListener("input", validateConfirmPassword);

        function validateConfirmPassword() {
            if (confirmPasswordField.value !== passwordField.value) {
                confirmPasswordError.style.display = "block";
                confirmPasswordField.setCustomValidity("Passwords do not match!");
                submitButton.disabled = true;
            } else {
                confirmPasswordError.style.display = "none";
                confirmPasswordField.setCustomValidity("");
                if (passwordField.checkValidity()) {
                    submitButton.disabled = false;
                }
            }
        }
    });
</script>

</body>
</html>
